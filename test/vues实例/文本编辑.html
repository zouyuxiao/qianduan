<!DOCTYPE html>
<html>
<head>
	<title>文本编辑</title>
	<meta charset="utf-8">
	<script type="text/javascript" src="./vue.js"></script>
    <style type="text/css">
        /* 隐藏未编译的变量 */

    [v-cloak] {
      display: none;
    }

    p:before{
        display:inline-block;
        /* margin-right:5px; */
        font-weight:normal;
        vertical-align: text-bottom;
    }

    #main{
        height:10rem;
        position:relative;
        /* padding-top: 150px; */
    }
    </style>
</head>
<body>
	<!-- <h1>文本编辑</h1> -->
	<!-- 
		v-on：click.stop是一个点击事件处理器，stop修饰符用于阻止事件传递
		v-if 用来判断show_tooltip为true时才显示

	 -->
	<div id="main" v-cloak v-on:click="hideTooltip">
		<div class="tooltip" v-on:click.stop v-if="show_tooltip">
            <!-- 
                v-model绑定 文本域的内容
                在文本域内容改变时，对应变量也会改变
             -->
             <input type="text" v-model="text_content" name="">
         </div>
		
         <!-- 
            点击调用“toggleTooltip”方法并阻止事件传递
            “text_content” 变量根据文本域内容的变化而变化
         -->
         <p v-on:click.stop="toggleTooltip">
            {{text_content}}
         </p>
	</div>
	
</body>
<script type="text/javascript">
	var demo = new Vue({
		el:'#main',
		data:{
			show_tooltip:false,
			text_content:'点我，编辑内容'
		},
		methods:{
			hideTooltip:function () {
				//在模型改变时，视图也会自动更新
				this.show_tooltip = false;
			},
			toggleTooltip:function(){
				this.show_tooltip = !this.show_tooltip;
			}
		}
	});
</script>
</html>